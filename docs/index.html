<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Kev Zettler</title><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/616df6187075e4dc.css" as="style"/><link rel="stylesheet" href="/_next/static/css/616df6187075e4dc.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/js/jquery-3.6.4.min.js" defer="" data-nscript="beforeInteractive"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-3479d0a64c7ffb47.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08ad0149ddcbdd04.js" defer=""></script><script src="/_next/static/chunks/pages/index-52847f216061ac2f.js" defer=""></script><script src="/_next/static/vUyWxDfyKr2O4J8LUYO2n/_buildManifest.js" defer=""></script><script src="/_next/static/vUyWxDfyKr2O4J8LUYO2n/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><div class="container"><button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="brand" href="/">Kev Zettler</a><div class="nav-collapse collapse"><ul class="nav"><li class=""><a href="/">Blog</a></li><li class=""><a href="/about">About</a></li></ul></div></div></div></div><div class="container" id="body-content"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="post cell"><h2><a href="/2023/04/25/multiplayer-voxel-game-engine" class="dark-link">I built a multiplayer voxel browser game engine.</a></h2><h4 class="low-top">Posted on <!-- -->2023-04-25</h4><p>Intro &amp; TLDR;
This post is a retrospective on a multiplayer voxel browser game engine I built. This post will cover the squishy storytelling side of the project, and the accompanying code repository has all of the intricate technical details. This post is essentially a 2 part post. Read this and read the repo README.

  
Disclaimer
This project is a bit old and stale at the time of this post. ...</p><p><a href="/2023/04/25/multiplayer-voxel-game-engine">Read more...</a></p></div><div class="post cell"><h2><a href="/2023/04/13/migrating-to-nextjs" class="dark-link">Using Next.js for static sites</a></h2><h4 class="low-top">Posted on <!-- -->2023-04-13</h4><p>Good news everyone. I can post here again, thank you Next.js. If you check the history of post dates here you can see some large gaps between updates. Until recently this site was powered by Jekyll and hosted on Github static pages. Jekyll had high entropy and every-time I wanted to do a spontaneous post I would have to update Jekyll and all its dependencies and usually update Ruby. Oftentimes thi...</p><p><a href="/2023/04/13/migrating-to-nextjs">Read more...</a></p></div><div class="post cell"><h2><a href="/2018/12/13/dasung-linux-driver-decompiled" class="dark-link">Dasung Linux Driver Decompiled</a></h2><h4 class="low-top">Posted on <!-- -->2018-12-13</h4><p>This is a follow up to the Dasung teardown post in which I decompile the software drivers. Dasung ships their monitors with a Linux driver that is sadly limited to the Ubuntu amd64 architecture. The driver can be downloaded from:
Dasung driver download page
I have decompiled the drivers and uploaded them to github at:
Dasung linux drivers source code decompiled
I was naively hoping I could hack th...</p><p><a href="/2018/12/13/dasung-linux-driver-decompiled">Read more...</a></p></div><div class="post cell"><h2><a href="/2018/02/11/dasung-paperlike-pro-teardown" class="dark-link">Dasung Paperlike Pro Teardown</a></h2><h4 class="low-top">Posted on <!-- -->2018-02-11</h4><p>Disclaimer This is my first real electronics, hardware project. I&#x27;m picking this up as I go. I don&#x27;t yet have a mature mental model on electronics. I appreciate any guidance and coaching in the comments.

Building a DIY E-ink or Epaper laptop
This is a follow up to my previous Dasung Paperlike Pro Review post. For visitors landing here, a quick recap. The Dasung Paperlike Pro is billed as ...</p><p><a href="/2018/02/11/dasung-paperlike-pro-teardown">Read more...</a></p></div><div class="post cell"><h2><a href="/2018/01/12/dasung-paperlike-pro-review" class="dark-link">Dasung Paperlike Pro(grammer) Review</a></h2><h4 class="low-top">Posted on <!-- -->2018-01-12</h4><p>I recently purchased a Dasung Paperlike Pro 13.3 E-ink monitor to use for coding, reading, and terminal work. I have many thoughts on the overall e-ink market and consumer experience. I will save them for another post. This post will be brief and focused on personal expectations with the Dasung. Additionally, there are many other, more thorough reviews online demonstrating the capabilities of the ...</p><p><a href="/2018/01/12/dasung-paperlike-pro-review">Read more...</a></p></div><div class="post cell"><h2><a href="/2015/06/07/rapid_local_development_vagrant_docker_node" class="dark-link">Rapid Local Development with Vagrant, Docker and Node.js</a></h2><h4 class="low-top">Posted on <!-- -->2015-06-07</h4><p>TLDR

Using a cascade of Vagrant shared directories, Docker volumes and cleverly placed symlinks, you can rig Vagrant and Docker to instantly reflect your local application code updates.
Docker volume -&gt; Vagrant shared directory -&gt; Host machine code.
Enable NPM link style development in Docker container.
Dosen&#x27;t cover gulp</p><p><a href="/2015/06/07/rapid_local_development_vagrant_docker_node">Read more...</a></p></div><div class="post cell"><h2><a href="/2014/06/25/docker_ipv6_linode" class="dark-link">How To Route Docker.io Containers To Public IPV6 on Linode</a></h2><h4 class="low-top">Posted on <!-- -->2014-06-25</h4><p>
If you want to us ipv6 with docker.io on linode make sure you have the following sysctl set
net.ipv6.conf.all.accept_ra = 2
net.ipv6.conf.all.forwarding = 1


Then you can pretty much follow this post http://zargony.com/2013/10/1...</p><p><a href="/2014/06/25/docker_ipv6_linode">Read more...</a></p></div><div class="post cell"><h2><a href="/2012/09/30/how_to_manage_javascript_callbacks" class="dark-link">How To Manage Javascript Callbacks</a></h2><h4 class="low-top">Posted on <!-- -->2012-09-30</h4><p>tldr;

Abstract anonymous functions into named functions to avoid nesting callbacks.
Avoid using local variables of a shared scope in nested anonymous functions.
Abstract large JavaScript object declaration into smaller generator functions.

Or &#x27;How To Avoid Callback Hell&#x27;.
I have been mea...</p><p><a href="/2012/09/30/how_to_manage_javascript_callbacks">Read more...</a></p></div><div class="post cell"><h2><a href="/2012/07/05/Disable_any_element_with_jquery" class="dark-link">Disable Any Element With jQuery</a></h2><h4 class="low-top">Posted on <!-- -->2012-07-05</h4><p>In HTML the disabled attribute alows you to mark an input element as &#x27;disabled&#x27; Which will trigger 
the browser to render the input in a &#x27;greyed out&#x27; style:

  
    
      
        Enabled elements
        Click
        </p><p><a href="/2012/07/05/Disable_any_element_with_jquery">Read more...</a></p></div><div class="post cell"><h2><a href="/2010/10/30/jquery-autobox-plugin" class="dark-link">jQuery Autobox Plugin</a></h2><h4 class="low-top">Posted on <!-- -->2010-10-30</h4><p>I have worked on several site designs that expect form inputs to render with a default value. Upon focus of the input the default text should clear and allow user input to stick. Sometimes the design calls for this to happen with a password field as well.
Password fields are a special condition as the text is rendered as dots. You cannot dynamically change the &#x27;type&#x27; attribute of...</p><p><a href="/2010/10/30/jquery-autobox-plugin">Read more...</a></p></div><div class="post cell"><h2><a href="/2010/09/05/IE-button-bug" class="dark-link">IE Button Bug</a></h2><h4 class="low-top">Posted on <!-- -->2010-09-05</h4><p>I recently encountered an annoying bug in multiple versions of IE regarding forms and button elements. I am writing about it to remind myself in the future and to hopefully save time for someone else. The bug spawned from my decision to use &lt;button&gt; elements over &lt;input type=&quot;submit&quot;&gt; elements as the submit buttons for my forms. I chose button ele...</p><p><a href="/2010/09/05/IE-button-bug">Read more...</a></p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"I built a multiplayer voxel browser game engine.","date":"2023-04-25","contentHTML":"\u003ch2\u003eIntro \u0026#38; TLDR;\u003c/h2\u003e\n\u003cp\u003eThis post is a retrospective on a \u003ca href=\"https://github.com/kevzettler/multiplayer-voxel-browser-game-engine\"\u003emultiplayer voxel browser game engine\u003c/a\u003e I built. This post will cover the squishy storytelling side of the project, and the \u003ca href=\"https://github.com/kevzettler/multiplayer-voxel-browser-game-engine\"\u003eaccompanying code repository\u003c/a\u003e has all of the intricate technical details. This post is essentially a 2 part post. Read this and read the repo README.\u003c/p\u003e\n\u003ca href='/img/multiplayer-engine-post/play.gif'\u003e\n  \u003cimg src='/img/multiplayer-engine-post/play.gif'\n       alt=\"Animated give of a 3d multiplayer browser engine\"\n       title=\"Demonstration of multiplayer game engine multiple players\" /\u003e\n\u003c/a\u003e\u003ch3\u003eDisclaimer\u003c/h3\u003e\n\u003cp\u003eThis project is a bit old and stale at the time of this post. Some of the tech decisions made sense during development but are questionable today. I will try to address that in this post. I started this project with very minimal game development experience. I had no idea how many things worked, shaders, 3d asset files, raw binary buffer manipulation, scene graphs, and physics engines. I learned all these skills and more during this project. This experience also helped me later land some major corporate jobs. This project was primarily active from 2017-2019; however, exploration for the project goes back to late 2016.\u003c/p\u003e\n\u003ca href='/img/multiplayer-engine-post/disclaimer.png'\u003e\n  \u003cimg src='/img/multiplayer-engine-post/disclaimer.png'\n       alt=\"Should you build a custom engine? Yes.\"\n       title=\"Should you build a custom engine? Yes\" width=\"400\" /\u003e\n\u003c/a\u003e\u003ch2\u003eInspiration \u0026#38; motivation\u003c/h2\u003e\n\u003cp\u003eI wanted to build a multiplayer browser game. I was very inspired by \u003ccode\u003e.io\u003c/code\u003e games and sites like \u003ca href=\"https://iogames.space/\"\u003eiogames.space\u003c/a\u003e. I love the \u003ccode\u003e.io\u003c/code\u003e gaming experience of copy-pasting a URL around and getting in a game with your friends. Furthermore, I wanted to recreate a canceled MMO called \u003ca href=\"https://en.wikipedia.org/wiki/Exteel\"\u003eExteel\u003c/a\u003e. My background was in web development and design. I stuck with the tools and environment I was most familiar with.\u003c/p\u003e\n\u003ch3\u003eTarget features\u003c/h3\u003e\n\u003cul\u003e\u003cli\u003enetwork multiplayer\u003c/li\u003e\n\u003cli\u003eplayable cross-platform in the browser\u003c/li\u003e\n\u003cli\u003ePlayer avatar customization\u003c/li\u003e\n\u003cli\u003elazy loading assets\u003c/li\u003e\n\u003cli\u003eshared client \u0026#38; server game code\u003c/li\u003e\n\u003cli\u003ethird person camera\u003c/li\u003e\n\u003cli\u003eplatforming physics\u003c/li\u003e\n\u003cli\u003edestructible environments\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eI completed most of these features except for destructible environments. Destructible environments were a big driver for the voxel asset pipeline, assuming voxels would enable the destructibility. Another browser game \u003ca href=\"https://github.com/Lallassu/VoxLords\"\u003eVoxLords\u003c/a\u003e inspired the goal of destructible environments. VoxLords had good environmental destruction and captured my imagination. I started this out by forking and modifying VoxLords to be multiplayer.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://twitter.com/lallassu/status/725401257377169409?s=20\"\u003ehttps://twitter.com/lallassu/status/725401257377169409?s=20\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAfter hacking on VoxLords, it was clear that making a captivating 3D multiplayer browser experience was possible. Unfortunately, Lallassu was correct, and there were some major performance issues in the VoxLords engine that would require extensive refactoring. I decided to start a new project.\u003c/p\u003e\n\u003ch4\u003eWhy I didn\u0026#39;t use one of the megacorp engines\u003c/h4\u003e\n\u003cp\u003eI was not happy with Unity and Unreal\u0026#39;s HTML5 browser experience. Unity\u0026#39;s HTML5 export creates a giant asset bundle where users must sit and watch a loading bar before playing. This loading bar experience was against my goals of lazy loading assets on demand. Additionally, Unity\u0026#39;s multiplayer server-side support was sketchy and \u003ca href=\"https://radcade.com/unity-multiplayer-netcode-for-gameobjects/\"\u003estill is\u003c/a\u003e. Unreal had much stronger multiplayer support but similar issues with browser builds, and in addition, Unreal itself was too large to install on my laptop.\u003c/p\u003e\n\u003ch2\u003eThe work\u003c/h2\u003e\n\u003cp\u003eAfter hacking the VoxLords multiplayer fork, I started by exploring multiple tech stacks concurrently and building a prototype in each. The stacks I looked at were Babylon.js, Three.js, \u0026#38; Stackgl.\u003c/p\u003e\n\u003ch3\u003eTech stack requirements\u003c/h3\u003e\n\u003cp\u003eThe first requirement was support for the 3d asset pipeline. I had been working with voxel models in \u003ca href=\"https://ephtracy.github.io/\"\u003eMagicaVoxel .vox\u003c/a\u003e format. The .vox format was great for static entities. There are primarily two ways to animate a voxel model. You can create frame-based animation, in which each frame is a separate voxel animation, and then you morph or swap them out at runtime. Or you can apply skeletal transformation data to voxel meshes. If you decide on the skeletal route, you must break the voxel mesh into smaller meshes corresponding to the skeleton bones.\u003c/p\u003e\n\u003cp\u003eI had a character mesh that I wanted to use in .vox format, but at the time MagicaVoxel did not support multiple meshes. I converted the .vox file to \u003ca href=\"https://www.getqubicle.com/\"\u003equiblce .qb\u003c/a\u003e file and broke the character up into separate meshes.\u003c/p\u003e\n\u003ca href='/img/multiplayer-engine-post/qubicle.png'\u003e\n  \u003cimg src='/img/multiplayer-engine-post/qubicle.png'\n       alt=\"Qubicle UI breaking a mesh up.\"\n       title=\"Using Qubicle to break up a mesh for skeletal animation\"/\u003e\n\u003c/a\u003e\u003cp\u003eI then imported the segmented Qubicle mesh into Blender and built the skeletal animations in Blender.\u003c/p\u003e\n\u003ca href='/img/multiplayer-engine-post/blender.gif'\u003e\n  \u003cimg src='/img/multiplayer-engine-post/blender.gif'\n       alt=\"Blender skeletal walking animation.\"\n       title=\"Voxel model animated in Blender with skeletal animation\"/\u003e\n\u003c/a\u003e\u003cp\u003eThe engine then combines the animation data and voxel mesh data at runtime.\u003c/p\u003e\n\u003ch3\u003eTech stack evaluation\u003c/h3\u003e\n\u003cul\u003e\u003cli\u003e\u003ca href=\"https://threejs.org/\"\u003ethree.js\u003c/a\u003e\u003cp\u003eI looked at Three.js first because VoxLords was built with it. The Three.js - Blender pipeline had issues, and we could not utilize skeletal animation imports. A colleague of mine who was working on a Three.js project captured some of the \u003ca href=\"https://gist.github.com/AndrewRayCode/746be166c3008a03167206aec4a46531\"\u003e three.js blender exporter issues\u003c/a\u003e at the time. The Three.js - Blender compatibility issues were a deal breaker for me.\u003c/p\u003e\n\u003cp\u003eFurthermore, Three.js did not have a viable headless server-side offering. Three.js uses custom math libraries that were not easily extractable from the rendering code. This tight coupling of math primitives and client render code meant multiplayer support would take a lot of extra duplicate work, re-implementing the game logic on the server. Three.js has advanced significantly since then, and I don\u0026#39;t think these are issues anymore.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.babylonjs.com/\"\u003ebabylon.js\u003c/a\u003e\u003cp\u003eI made some immediate promising progress in Babylon.js. The asset pipeline was robust and supported skeletal animation data. Babylon has a camera and physics out of the box. The Babylon team and community were super responsive and supportive. I hit a wall with Babylon.js when building the multiplayer server. Like Three.js, Babylon.js had no headless mode. Again, building multiplayer would require duplicate work reproducing all the simulation logic and physics in the server-side codebase. Recent versions of Babylon have a robust headless mode and have decoupled the framework into smaller libraries. These days Three.js is the king of the normie mindshare lexicon, but I still find Babylon.js a much better offering.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://stack.gl/\"\u003estackgl\u003c/a\u003e\u003cp\u003eStackgl is the dark horse of this list. Stackgl is not trying to be a complete 3D engine like Three.js and Babylon.js. Stackgl is an ecosystem of small functional tools that can be composed to create 3d browser experiences. Stackgl follows the Unix philosophy of \u0026#34;small sharp tools.\u0026#34; Stackgl has some main pillars: Rendering, Math, and Data. Stackgl handles rendering by focusing on direct shader code. Babylon.js and Three.js try to abstract shaders heavily away. Stackgl\u0026#39;s primary rendering module is \u003ca href=\"http://regl.party/\"\u003eRegl\u003c/a\u003e, which provides an entirely novel stateless rendering pattern. Stackgl then provides many small functional math modules for vertex and geometry data. I was quickly more productive in Stackgl than in the previous two stacks.\u003c/p\u003e\n\u003cp\u003eThe modular nature made it very easy to share code between the client and server, easy to optimize performance and rendering, and easy to add custom functionality. For example, Babylon.js and Three.js have their own vector math implementation libraries. Then if you use a physics engine, the physics engines have their internal vector math libraries. Furthermore, if you use a multiplayer server, you will also need a vector math library there.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\nIn Babylon and Three, it becomes a lot of fake work converting and serializing between different vector implementations. In Stackgl, you can easily use the same \u003ca href=\"https://glmatrix.net/\"\u003egl-matrix vector math library\u003c/a\u003e across a project which is a huge productivity gain.\u003ca href='/img/multiplayer-engine-post/engines.png'\u003e\n  \u003cimg src='/img/multiplayer-engine-post/engines.png'\n       alt=\"Screenshot of GitHub showing multiple game engines.\"\n       title=\"Which 3d browser engine is best?\" /\u003e\n\u003c/a\u003e\u003cp\u003e\u003cb\u003eWhen I started progressing with Stackgl, I took a year off and worked on it full-time throughout 2017.\u003c/b\u003e\u003c/p\u003e\n\u003ch2\u003eWhat went wrong\u003c/h2\u003e\n\u003cp\u003eUnfortunately, I consider this project unfinished. I did not ship a complete game experience, and there are some issues with the engine that would be risky for production deployment. I\u0026#39;m writing this post to put closure on the project before moving on to new work and in the hopes that this experience may be helpful to any others interested in this space.\u003c/p\u003e\n\u003ch4\u003eReact vs. Vanilla Js\u003c/h4\u003e\n\u003cp\u003eMost of my web development experience has been with the React framework, and I thought it would complement Regl and the Stackgl ecosystem\u0026#39;s functional paradigm. I created a \u003ca href=\"https://github.com/kevzettler/react-regl\"\u003ereact reconciler to bridge React and Regl\u003c/a\u003e. I started using a React stack with Redux to manage all the game state and state transitions. This React+Redux combo turned out to be a huge boon when writing UI. Game developers in traditional engines constantly complain about UI being their least favorite task. The game dev UI complaint is because game engines use geriatric 2-way mutable state management UI code that is error-prone and brittle. Web developers have solved these UI complaints and built tools like React that make creating UIs easy.\u003c/p\u003e\n\u003ca href='/img/multiplayer-engine-post/react.gif'\u003e\n  \u003cimg src='/img/multiplayer-engine-post/react.gif'\n       alt=\"animated gif of a React 3d browser UI.\"\n       title=\"React 3d player avatar creation system\" width=\"400\" /\u003e\n\u003c/a\u003e\u003cp\u003eReact+Redux setup was too much performance overhead for the real-time gameplay section. The state updates through the Redux action reducer pipeline, and the minimal React render updates were enough to cause noticeable hiccups in the gameplay frame rate. Performance in the browser environment is susceptible to garbage collector management. To minimize garbage collector hits, you need to use object pooling. Object pooling is a mutable state management pattern in which you pre-allocate a pool of objects. The collection of allocated objects gets mutated and reused during the program\u0026#39;s life to minimize runtime memory allocations. This object pooling pattern conflicts with the immutable update patterns of React and Redux. Hitting these performance issues was a significant roadblock and essentially became a \u0026#39;rewrite\u0026#39; in which I had to rewrite the game state management to be performance optimized. This rewrite was costly and took a lot of time.\u003c/p\u003e\n\u003ch4\u003eHobby time\u003c/h4\u003e\n\u003cp\u003eWhen I started progressing with Stackgl, I took a year off and worked on it full-time throughout 2017. I lived off some savings and unemployment checks until late 2018. I got back into corporate wage slavery from 2018-2020. During this time, I was invited to Animecon 2019 indie developer section to shill my game in the Indie game section.\u003c/p\u003e\n\u003ca href='/img/multiplayer-engine-post/animecon.png'\u003e\n  \u003cimg src='/img/multiplayer-engine-post/animecon.png'\n       alt=\"A photo of me at Animecon 2019.\"\n       title=\"Playing a game with a 2B cosplayer at Animecon 2019\" /\u003e\n\u003c/a\u003e\u003cp\u003eDuring this time, I switched to hobby mode and started putting less and less time into development. I was maybe averaging 4 hours a week. I was distracted by day job work. This time shortage slowed development progress. Development picked up during the 2020 Covid lockdowns. Unfortunately, returning to development after a hiatus presented some new challenges.\u003c/p\u003e\n\u003ch5\u003eSoftware entropy\u003c/h5\u003e\nThe JavaScript ecosystem is known for moving incredibly fast. I spent much time-fighting severe software entropy when I returned to development. Getting the project to build with the latest dependency chains of Node+NPM+webpack etc., took a lot of work. The animation pipeline using Landon had severe entropy. Landon is a mix of Rust, JavaScript, and Blender versions that are not strictly pinned. The Landon developer was changing the data output format and abandoned the skeletal animation system I used. I had to do work to upgrade to the latest Blender export versions but then write backward compatibility translation layers for the animation data. I upgraded my laptop to an M1 Mac. The M1 transition triggered a roadblock on the project because the WebRTC module I used would not compile on the new M1 Apple silicon chip. The WebRTC module now supports M1 architectures but was pretty much the show-stopper.\u003ch2\u003eByproducts\u003c/h2\u003e\n\u003cp\u003eThe work put into this project spun off some valuable libraries I have open-sourced and put on GitHub.\u003c/p\u003e\n\u003cul\u003e\u003cli\u003e\u003ca href=\"https://github.com/kevzettler/react-regl\"\u003ereact-regl\u003c/a\u003e\u003cp\u003eA react reconciler to bridge React and Regl\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/kevzettler/parse-magica-voxel\"\u003eparse-magica-voxel\u003c/a\u003e\u003cp\u003eA JavaScript parser for the Magicavoxel .vox binary file format\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/kevzettler/parse-qubicle\"\u003eparse-quibicle\u003c/a\u003e\u003cp\u003eA JavaScript parser for the .qb binary file format.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/kevzettler/gl-swept-sphere-triangle\"\u003egl-swept-sphere-triangle\u003c/a\u003e\u003cp\u003eA swept sphere to polygon collision detection algorithm\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eShout outs\u003c/h2\u003e\n\u003cp\u003eI built this project with the help and research of other highly skilled software engineers. Their contributions were critical to the development of this project.\u003c/p\u003e\n\u003cul\u003e\u003cli\u003e\u003ca href=\"https://twitter.com/MikolaLysenko\"\u003eMikola lysenko\u003c/a\u003e\u003cp\u003eMikola is a primary driver of the Stackgl ecosystem and a certified 10x genius developer. His blog \u003ca href=\"https://0fps.net\"\u003e0fps.net\u003c/a\u003e has some mind-melting content on high-performance computer science and geometry. Mikola assembled a team and built a Roblox clone for China in the browser. The team got together for a podcast to discuss their \u003ca href=\"https://www.youtube.com/watch?v=Z_--8z549D4\"\u003eReflections on building web-based voxel MMO in China (Mikola Lysenko, et al) - YouTube\u003c/a\u003e  It is a highly insightful talk, highly recommend if you found this post interesting.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://chinedufn.com/\"\u003eChinedu Francis Nwafili\u003c/a\u003e\u003cp\u003eChinedu did terrific work by building the \u003ca href=\"https://github.com/chinedufn/skeletal-animation-system\"\u003estackgl skeletal animation system\u003c/a\u003e, which is a vital piece of the Stackgl ecosystem, and this project was highly dependent on and probably couldn\u0026#39;t have come together without. While I was building this project, Chinedu also created his own game and engine. We kept in correspondence while making and sharing ideas. Chinedu also built out a very cool suite of tools for Blender called \u003ca href=\"https://github.com/chinedufn/landon\"\u003elandon\u003c/a\u003e. Landon makes Blender a source of truth for game engine data. Chinedu\u0026#39;s blog at \u003ca href=\"https://chinedufn.com/\"\u003ehttps://chinedufn.com/\u003c/a\u003e has in-depth development journal posts on his game engine development.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://www.jameswarlloyd.com/\"\u003eJames Warlloyd\u003c/a\u003e\u003cp\u003eJames created the \u003ca href=\"https://opengameart.org/content/voxel-mech-sniper\"\u003eoriginal mech model\u003c/a\u003e that I used as the bases for the character art in this engine.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eThe state of the art\u003c/h2\u003e\n\u003cp\u003eOverall this project was a significant educational return on investment for me. I learned about hardcore browser optimization and many other data-processing techniques. I have continued to do game ( and engine ) development as a hobby and have already looked into some other emerging technologies. My focus is still on browser multiplayer experiences. I haven\u0026#39;t found the big engines: Unreal, Unity, and Godot have the best models for multiplayer. I have previously written about \u003ca href=\"https://radcade.com/how-to-add-network-multiplayer-to-your-indie-game/\"\u003emultiplayer game engine design for indies\u003c/a\u003e. The big engines use coding patterns that couple game simulation code to rendering code. This coupling makes it challenging to build a server as you have to decouple the simulation and run it headless.\u003c/p\u003e\n\u003cul\u003e\u003cli\u003e\u003ca href=\"https://dotbigbang.com/\"\u003eDotBigBang\u003c/a\u003e\u003cp\u003eDotBigBang is everything this project attempted to be and more. It is a multiplayer voxel 3d engine, all fully in the browser. DotBigBang is focused on user-generated content and is essentially a multiplayer game engine. You can get a group of people together, bring your avatars into a 3D scene, and then collaboratively edit and program that scene like a multiplayer Unity editor experience. I had the fortune to hang with the founder of DotBigBang at GDC 2023 and hear about some impressive browser performance optimization they were doing. He told me about forking Chromium to have better performance debugging visibility into how the JIT compilation and memory usage of the browser was working.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/matrix-org/thirdroom#manifold-engine\"\u003eManifold engine\u003c/a\u003e\u003cp\u003eThe Manifold engine is a stealthy engine currently in development by the \u003ca href=\"https://matrix.org/\"\u003ematrix.org\u003c/a\u003e team. Manifold is embedded in a repository for another project with a disclaimer they might release in the future. The host project is \u0026#39;Thirdroom,\u0026#39; a multiplayer VR metaverse platform.\u003c/p\u003e\n\u003cp\u003eWhen I learned about Manifold I was very excited because it has the same design philosophy and high-performance computation architecture that I had been building towards. It uses Web Workers to create multiple threads to process rendering, physics, and networking separately. All the threads share memory over a \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\"\u003eSharedArrayBuffer\u003c/a\u003e, and they use object pooling to reduce garbage collection. Manifold also has WebRTC Data channels for networking. I built a promising prototype in Manifold; unfortunately, Manifold is tightly coupled to a matrix.org backend. The matrix backend has a clunky API to use, which would make custom server-side optimization challenging. If the matrix.org team ever decouples and delivers Manifold, it would be a very compelling option.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/AmbientRun/Ambient\"\u003eAmbient engine\u003c/a\u003e\u003cp\u003eAmbient is a promising new Rust lang engine. It is a default multiplayer engine. It shares code between the client and server. It compiles game code to WASM and then acts as a cross-platform binary runtime to execute that WASM. I have built a promising prototype in Ambient but unfortunately Ambient does not currently make for browser environments. The Ambient team is actively working to target browsers and is aiming for an upcoming release.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","excerpt":"Intro \u0026 TLDR;\nThis post is a retrospective on a multiplayer voxel browser game engine I built. This post will cover the squishy storytelling side of the project, and the accompanying code repository has all of the intricate technical details. This post is essentially a 2 part post. Read this and read the repo README.\n\n  \nDisclaimer\nThis project is a bit old and stale at the time of this post. ...","slug":"2023/04/25/multiplayer-voxel-game-engine","meta":{"keywords":"game dev, javascript, react","image":"img/multiplayer-engine-post/meta.png","description":"I open sourced my HTML5 multiplayer 3D voxel browser game engine.","title":"I built a multiplayer voxel browser game engine. - Kev Zettler"}},{"title":"Using Next.js for static sites","date":"2023-04-13","contentHTML":"\u003cp\u003eGood news everyone. I can post here again, thank you Next.js. If you check the history of post dates here you can see some large gaps between updates. Until recently this site was powered by \u003ca href=\"https://jekyllrb.com/\"\u003eJekyll\u003c/a\u003e and hosted on Github static pages. Jekyll had high entropy and every-time I wanted to do a spontaneous post I would have to update Jekyll and all its dependencies and usually update Ruby. Oftentimes this software entropy maintenance would kill my creative energy to make new content or like recently flat out block me from pushing updates. I have now migrated this blog to Next.js and still using Github static pages to host. Next.js has a static site feature similar to Jekyll. I\u0026#39;m hoping it has less entropy.\u003c/p\u003e\n\u003cp\u003eI am a heavy user of emacs and \u003ca href=\"https://orgmode.org/\"\u003eorgmode\u003c/a\u003e. I keep a lot of text data in orgmode, journals, agendas, task lists, notes. This blog post is written in orgmode. I could do a seperate blog post on my orgmode usage. It really some Alan Kay human computer augmentation level stuff. Next.js makes it very easy to convert orgmode files into HTML websites. Next.js makes it easy to fetch any data source and convert it to web content. I have now built up a some shared publishing code for Next.js that handles both Markdown and orgmode files and converts them to web content. I am using this to keep my web properties updated with fresh content.\u003c/p\u003e\n","excerpt":"Good news everyone. I can post here again, thank you Next.js. If you check the history of post dates here you can see some large gaps between updates. Until recently this site was powered by Jekyll and hosted on Github static pages. Jekyll had high entropy and every-time I wanted to do a spontaneous post I would have to update Jekyll and all its dependencies and usually update Ruby. Oftentimes thi...","slug":"2023/04/13/migrating-to-nextjs","meta":{"keywords":"javascript, next.js, web development","image":"img/kev.jpeg","description":"Good news everyone. I can post here again, thank you Next.js. If you check the history of post dates here you can see some large gaps between updates. Until recently this site was powered by Jekyll and hosted on Github static pages. Jekyll had high entropy and every-time I wanted to do a spontaneous","title":"Using Next.js for static sites - Kev Zettler"}},{"title":"Dasung Linux Driver Decompiled","date":"2018-12-13","contentHTML":"\u003cp\u003eThis is a follow up to the \u003ca href=\"https://kevzettler.com/2018/02/11/dasung-paperlike-pro-teardown\"\u003eDasung teardown\u003c/a\u003e post in which I decompile the software drivers. Dasung ships their monitors with a Linux driver that is sadly limited to the Ubuntu amd64 architecture. The driver can be downloaded from:\n\u003ca href=\"http://www.dasungtech.com/sta/en/software_en0310.html\"\u003eDasung driver download page\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI have decompiled the drivers and uploaded them to github at:\n\u003ca href=\"https://github.com/kevzettler/decompiled_dasung_drivers\"\u003eDasung linux drivers source code decompiled\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI was naively hoping I could hack this to be ARM compatible so I could use the Dasung with a Raspberry PI. I have been told that is not feasible due to architecture differences and OS API compatibility concerns. However these Drivers can potentially be used to make mods for other AMD64 systems.\u003c/p\u003e\n\u003cp\u003eWhen looking at the \u0026#39;drivers\u0026#39; provided by Dasung the contents of the Ubuntu folder are as follows:\u003c/p\u003e\n\u003cpre class=\"prettyprint\"\u003e\u003ccode class=\"language-bash\"\u003e-rwxrwxrwx@ 1 kev  staff  67646 Nov  2  2017 DS.ico\n-rwxrwxrwx@ 1 kev  staff  29404 Nov  2  2017 paperlikepro_1.0.5_amd64.deb\n-rwxrwxrwx@ 1 kev  staff    180 Nov  2  2017 readme\u003c/code\u003e\n\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003e\u003ccode\u003eDS.ico\u003c/code\u003e\u003cp\u003eis an icon file of the Dasung logo\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ereadme\u003c/code\u003e\u003cp\u003eis a text file explaining how to install the driver on Ubuntu systems\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epaperlikepro_1.0.5_amd64.deb\u003c/code\u003e\u003cp\u003eis a Debian package archive containing the compiled driver and other data. The \u003ccode\u003edeb\u003c/code\u003e file can be extracted to the following contents:\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003epaperlikepro_1.0.5_amd64.deb contents\u003c/h2\u003e\n\u003cpre class=\"prettyprint\"\u003e\u003ccode class=\"language-bash\"\u003e-rw-r--r--@ 1 kev  staff    279 Aug  4  2017 control.tar.gz\n-rw-r--r--@ 1 kev  staff  28932 Aug  4  2017 data.tar.xz\n-rw-r--r--@ 1 kev  staff      4 Aug  4  2017 debian-binary\u003c/code\u003e\n\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003e\u003ccode\u003edebian-binary\u003c/code\u003eis a text file that contains a version number\u003ccode\u003e$ cat debian-binary 2.0\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003econtrol.tar.gz\u003c/code\u003eis an archive that can be extracted using \u003ccode\u003etar\u003c/code\u003eit expands to a text file \u003ccode\u003econtrol\u003c/code\u003e with the following content:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"prettyprint\"\u003e\u003ccode class=\"language-unknown\"\u003e$ cat control\nPackage: PaperlikePro\nVersion: 1.0.5\nSection: x11\nPriority: standard\nArchitecture: amd64\nDepends:\nInstalled-Size: 200\nMaintainer: support@dasung.com\nDescription: Paperlike Pro Software\u003c/code\u003e\n\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003e\u003ccode\u003edata.tar.xz\u003c/code\u003e\u003cp\u003eThis is where things get interesting. It is another tar archive which contains the executables of the driver. When extracted it produces the following:\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"prettyprint\"\u003e\u003ccode class=\"language-bash\"\u003e$ tar -xzvf data.tar.xz\nx ./\nx ./usr/\nx ./usr/local/\nx ./usr/local/sbin/\nx ./usr/local/sbin/PaperlikePro\nx ./usr/local/sbin/DS.ico\nx ./usr/local/sbin/ResChange\u003c/code\u003e\n\u003c/pre\u003e\n\u003cp\u003eThis is meant to be installed at \u003ccode\u003e/usr/local/sbin\u003c/code\u003e on Ubuntu. We have already seen \u003ccode\u003eDS.ico\u003c/code\u003e and know it is the Dasung logo.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ePaperLikePro\u003c/code\u003e and \u003ccode\u003eResChange\u003c/code\u003e are both executables. I am assuming that \u003ccode\u003ePaperlikePro\u003c/code\u003e is the UI management tool found on other platforms and that \u003ccode\u003eResChange\u003c/code\u003e is a resolution driving tool.\u003c/p\u003e\n\u003ch1\u003eConverting amd64 binaries to other format\u003c/h1\u003e\n\u003cp\u003eUsing the \u003ca href=\"https://github.com/yegord/snowman\"\u003eSnowman decompiler\u003c/a\u003e tool against \u003ccode\u003ePaperlikePro\u003c/code\u003e and \u003ccode\u003eResChange\u003c/code\u003e binaries I was able to produce some C++ decompiled source code. I have not attempted to re compile them and see if they work as expected. I have uploaded the decompiled code to github at \u003ca href=\"https://github.com/kevzettler/decompiled_dasung_drivers\"\u003e\u003ca href=\"https://github.com/kevzettler/decompiled_dasung_drivers\"\u003ehttps://github.com/kevzettler/decompiled_dasung_drivers\u003c/a\u003e\u003c/a\u003e.\u003c/p\u003e\n","excerpt":"This is a follow up to the Dasung teardown post in which I decompile the software drivers. Dasung ships their monitors with a Linux driver that is sadly limited to the Ubuntu amd64 architecture. The driver can be downloaded from:\nDasung driver download page\nI have decompiled the drivers and uploaded them to github at:\nDasung linux drivers source code decompiled\nI was naively hoping I could hack th...","slug":"2018/12/13/dasung-linux-driver-decompiled","meta":{"keywords":"e-ink hardware workflow laptop","image":"img/kev.jpeg","description":"Dasung Linux Ubuntu drivers open source decompiled","title":"Dasung Linux Driver Decompiled - Kev Zettler"}},{"title":"Dasung Paperlike Pro Teardown","date":"2018-02-11","contentHTML":"\u003cimg src='/img/dasung_teardown/title.png'\n alt='Dasung Paperlike Pro control board says. Oops, you have lost the warranty :-('\n title='Dasung Paperlike Pro control board says. Oops, you have lost the warranty :-('\n/\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eDisclaimer\u003c/b\u003e This is my first real electronics, hardware project. I\u0026#39;m picking this up as I go. I don\u0026#39;t yet have a mature mental model on electronics. I appreciate any guidance and coaching in the comments.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eBuilding a DIY E-ink or Epaper laptop\u003c/h2\u003e\n\u003cp\u003eThis is a follow up to my previous \u003ca href=\"/2018/01/12/dasung-paperlike-pro-review\"\u003eDasung Paperlike Pro Review\u003c/a\u003e post. For visitors landing here, a quick recap. The Dasung Paperlike Pro is billed as \u0026#34;The worlds first HDMI e-ink monitor\u0026#34; It is high performance for a e-ink display and renders at about 40fps. Check the review post for more info.\u003c/p\u003e\n\u003cp\u003eI Bought the Dasung with intentions to tear it down for \u0026#39;research\u0026#39; purposes. Mainly to confirm what e-ink display module they were using. This research was for the goal of building an \u003ca href=\"https://www.youtube.com/watch?v=4-cVNJwhAqo\"\u003ee-ink laptop\u003c/a\u003e. In this post I will walk through my experience dismantling the Dasung and discuss its internal components. Hopefully readers will find this useful in their own e-ink hardware projects, or in the chance they need to repair a Dasung.\u003c/p\u003e\n\u003cp\u003eYou can click through any of the images below for full high res versions.\u003c/p\u003e\n\u003ch2\u003eHow to open the Dasung Paperlike Pro\u003c/h2\u003e\n\u003cp\u003eThe Dasung has a seemingly, solid one piece construction. It took me a few days to devise a method of disassembly that wasn\u0026#39;t aggressively destructive, like cracking the frame open with a hammer, or pry-bar. After prodding it for a few days I discovered the front outer frame bezel was glued on and could be pried with a knife.\u003c/p\u003e\n\u003ca href='/img/dasung_teardown/2017-12-26 19.49.20.jpg'\u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 19.49.20.jpg' alt=\"How to remove Dasung Paperlike Pro faceplate\" title=\"How to remove Dasung Paperlike Pro faceplate\" /\u003e\n\u003c/a\u003e\u003ca href='/img/dasung_teardown/2017-12-26 19.49.39.jpg'\u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 19.49.39.jpg' alt=\"How to remove Dasung Paperlike Pro faceplate\" title=\"How to remove Dasung Paperlike Pro faceplate\" /\u003e\n\u003c/a\u003e\u003ca href='/img/dasung_teardown/2017-12-26 19.52.19.jpg' \u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 19.52.19.jpg' title=\"How to dissasemble Dasung Paperlike Pro\" alt=\"How to dissasemble Dasung Paperlike Pro\" /\u003e\n\u003c/a\u003e\u003ca href='/img/dasung_teardown/2017-12-26 19.54.26.jpg'\u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 19.54.26.jpg' alt=\"How to unscrew Dasung Paperlike Pro\" title=\"How to unscrew Dasung Paperlike Pro dissasembly\" /\u003e\n\u003c/a\u003e\u003ch2\u003eThe Dasung E-ink display module\u003c/h2\u003e\n\u003cp\u003eMy main objective in purchasing the Dasung, was to confirm what e-ink display module was in use. I had suspected it was the \u003ca href=\"http://shopkits.eink.com/product/13-3%CB%9D-epaper-display-ed133ut2/\"\u003e13.3Àù ePaper Display (ED133UT2)\u003c/a\u003e However other notes from Dasung about a \u0026#34;Carta\u0026#34; version change lead me to doubt that. One of my biggest complaints in my \u003ca href=\"2018/01/12/dasung-paperlike-pro-review\"\u003eDasung Paperlike Pro Review\u003c/a\u003e post, was that the monitor display was reflective and has an aggressive glare.\u003c/p\u003e\n\u003ca href='/img/dasung_teardown/2017-12-26 19.56.24.jpg'\u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 19.56.24.jpg' alt=\"\" title=\"\" /\u003e\n\u003c/a\u003e\u003ch3\u003eDetaching the E-ink display module\u003c/h3\u003e\n\u003cp\u003eThis step was sensitive. The Display module is attached by a fragile ribbon cable to a latch bracket. This is called a ZIF (Zero Insertion Force) connector. It took me a bit to track down how to open it. You Lift the black latch off and can remove the ribbon cable.\u003c/p\u003e\n\u003ca href='/img/dasung_teardown/2017-12-26 20.28.23.jpg'\u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 20.28.23.jpg' alt=\"How to open ZIF (Zero Insertion Force) connector\" title=\"How to open ZIF (Zero Insertion Force) connector\" /\u003e\n\u003c/a\u003e\u003ca href='/img/dasung_teardown/2017-12-26 21.21.55.jpg'\u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 21.21.55.jpg' alt=\"\" title=\"\" /\u003e\n\u003c/a\u003e\u003ch3\u003eReviewing the E-ink Epaper display module\u003c/h3\u003e\n\u003cp\u003eOn inspection of the E-ink display module I was disappointed to find that the glass was actually part of the module and not a separate pane like I first expected and hoped.\u003c/p\u003e\n\u003ca href='/img/dasung_teardown/2018-02-07 19.31.52.jpg'\u003e\n  \u003cimg src='/img/dasung_teardown/2018-02-07 19.31.52.jpg' alt=\"Broken glass on dasung e-ink display module\" title=\"borken glass on dasung e-ink module\" /\u003e\n\u003c/a\u003e\u003ca href='/img/dasung_teardown/2018-02-07 19.30.16.jpg'\u003e\n  \u003cimg src='/img/dasung_teardown/2018-02-07 19.30.16.jpg' alt=\"e-ink module identification\" title=\"e-ink module identification\" /\u003e\n\u003c/a\u003e\u003cp\u003eThe tag on the display module has a model number \u003cb\u003eED133UT2\u003c/b\u003e that confirms my suspicious of it being the \u003ca href=\"http://shopkits.eink.com/product/13-3%CB%9D-epaper-display-ed133ut2/\"\u003ee-ink 13.3 ed133ut2\u003c/a\u003e. This is unfortunate as it appears that E-ink  offers another module the \u003cb\u003eES133UT2\u003c/b\u003e model. Note that the difference between the model numbers is the \u003cb\u003eS\u003c/b\u003e and \u003cb\u003eD\u003c/b\u003e. The \u003cb\u003eS\u003c/b\u003e model is marketed as \u0026#34;Flexible\u0026#34; and has sales points of:\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eAntiglare hard-coated front-surface\u003c/li\u003e\n\u003cli\u003ePlastic substrate\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIt is hugely disappointing that Dasung went with the \u003cb\u003eD\u003c/b\u003e model as I suspect the \u003cb\u003eS\u003c/b\u003e model would be an \u003ca href=\"http://shopkits.eink.com/product/13-3%CB%9D-epaper-display-es133ut2/\"\u003eanti-glare e-ink display module\u003c/a\u003e solving a major problem with the Dasung. I could almost see a mistake being made during production ordering because of the very close model identifiers.\u003c/p\u003e\n\u003cp\u003eOn further exploration of these model numbers I found a \u003ca href=\"http://www.panelook.com/product_cat.php?catid=73\u0026pl=photo\u0026st=\u0026tag=74\u0026panel_size_inch=1330\"\u003ePaneLook.com a whole sale display panel site\u003c/a\u003e which lists other 13.3 e paper, display models:\u003c/p\u003e\n\u003cul\u003e\u003cli\u003e\u003cb\u003eEN133UT1\u003c/b\u003e\u003c/li\u003e\n\u003cli\u003e\u003cb\u003eES133UT1\u003c/b\u003e\u003c/li\u003e\n\u003cli\u003e\u003cb\u003eED133UT1\u003c/b\u003e\u003c/li\u003e\n\u003cli\u003e\u003cb\u003eED133TT1\u003c/b\u003e\u003c/li\u003e\n\u003cli\u003e\u003cb\u003eES133TT2\u003c/b\u003e\u003c/li\u003e\n\u003cli\u003e\u003cb\u003eES133TE1\u003c/b\u003e\u003c/li\u003e\n\u003cli\u003e\u003cb\u003eED133UT2\u003c/b\u003e\u003c/li\u003e\n\u003cli\u003e\u003cb\u003eES133TT3\u003c/b\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003ePanelook curiously does not have a listing for \u003cb\u003eES133UT2\u003c/b\u003e\u003c/p\u003e\n\u003cp\u003eA \u003ca href=\"http://www.panelook.com/modelcompare.php?ids=25596,25552,25553,27057,27058,27059,31868,31869\"\u003ecomparison of 13.3 epaper displays\u003c/a\u003e on PaneLook shows some interesting details about the available options.\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eThe \u003cb\u003eES133TE1\u003c/b\u003e has embbed touch screen capabilities.\u003c/li\u003e\n\u003cli\u003e\u003cb\u003eEN133UT1\u003c/b\u003e and \u003cb\u003eES133TT3\u003c/b\u003e are the only models listed with \u0026#39;Antiglare\u0026#39;\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAfter comparing these options it looks as if \u003cb\u003eES133TT3\u003c/b\u003e would be the best Epaper laptop display from these options.\u003c/p\u003e\n\u003ch2\u003eThe Control Board\u003c/h2\u003e\n\u003cp\u003eWhen I first saw this control board I was shocked at how large it is and how many components are packed into it. I had assumed that most of the proprietary Dasung functionality was handled in software.\u003c/p\u003e\n\u003ca href='/img/dasung_teardown/2017-12-26 21.33.30.jpg' \u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 21.33.30.jpg' alt=\"Dasung Paperlike control board\" title=\"Dasung Paperlike Pro control board\" /\u003e\n\u003c/a\u003e\u003cp\u003eOn closer inspection all the chip components have had their labels chemically peeled off to prevernt reverse engineering.\u003c/p\u003e\n\u003ch3\u003eTwo PCBs ?\u003c/h3\u003e\n\u003cp\u003eThere are actually two PCBs. A smaller PCB towards the top of the enclosure is a USB port with an IC and wires hooked to the main board.\u003c/p\u003e\n\u003ca href='/img/dasung_teardown/2017-12-26 20.22.38.jpg' \u003e\n  \u003cimg src='/img/dasung_teardown/2017-12-26 20.22.38.jpg' alt=\"Dasung Paperlike control board\" title=\"Dasung Paperlike Pro control board\" /\u003e\n\u003c/a\u003e\u003cp\u003eThe Dasung manual claims that this USB port is intended to be used as an interface for a USB external lamp. Then elsewhere, on the included accessories section of a \u0026#39;quick start\u0026#39; sheet, it says:\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eA USB to USB cable for firmware upgrade in some emergency (non standard).\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis implies that the USB interface can used for firmware updates. I suspect with some further hacking this could be used to load custom firmware or maybe dump the existing firmware of the board.\u003c/p\u003e\n\u003cp\u003eThere are only two input ports to the device. The USB on top, and the mini HDMI in the bottom left.\u003c/p\u003e\n\u003ch1\u003eDasung Paperlike Pro control board components\u003c/h1\u003e\n\u003cp\u003eI am way too junior in electronics to accurately identify the components of the board. I leave this as an exercise for any readers, and a learning challenge for myself. I will pursue this in future work.\u003c/p\u003e\n\u003cp\u003eI reached out to some 3rd party help and the best lead I got was:\u003c/p\u003e\n\u003cblockquote\u003e\u003cp\u003efrom top to bottom...\nsome kind of IO breakout, maybe an MCU for platform management, might actually be running the whole show and below is just a display controller\nmain SoC, probably contains display driver they\u0026#39;re using for just the internal screen\nthe two little ones are DRAM\nan FPGA, used as glue logic and DMA buffer for both displays\nhighly integrated hdmi controller, handles the full spec + audio and just clocks in a frame\u003c/p\u003e\n\u003cp\u003ethe collection of shit in the white boxes are various power regulators for the display etc, on the far top left you have a power management controller and support circuitry, handles just about all the IC and IO voltages by the looks.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eLooking forward to further discussion in the comments.\u003c/p\u003e\n\u003ch1\u003eUpdates\u003c/h1\u003e\n\u003ch2\u003e2018/02/14\u003c/h2\u003e\n\u003cp\u003eUser thomasjfox on \u003ca href=\"https://hackaday.com/2018/02/14/tearing-down-a-1000-e-ink-display/#comment-4362437\"\u003ehackaday comments\u003c/a\u003e suggests:\u003c/p\u003e\n\u003cblockquote\u003e\u003cp\u003eOn the bottom left is a HDMI signal decoder that feeds directly into a FPGA with RAM chips next to it.\nThe FPGA is connected to the eink controller on the right. I couldn‚Äôt make out the largish chip above the eink controller.\nWild guess: A MCU to configure the HDMI signal decoder + eink controller.\u003c/p\u003e\n\u003c/blockquote\u003e\n","excerpt":"Disclaimer This is my first real electronics, hardware project. I'm picking this up as I go. I don't yet have a mature mental model on electronics. I appreciate any guidance and coaching in the comments.\n\nBuilding a DIY E-ink or Epaper laptop\nThis is a follow up to my previous Dasung Paperlike Pro Review post. For visitors landing here, a quick recap. The Dasung Paperlike Pro is billed as ...","slug":"2018/02/11/dasung-paperlike-pro-teardown","meta":{"keywords":"e-ink hardware workflow laptop","image":"img/dasung_teardown/title.png","description":"A hardware teardown of the Dasung Paperlike Pro E-ink monitor as part of a research effort to build an DIY E-ink laptop","title":"Dasung Paperlike Pro Teardown - Kev Zettler"}},{"title":"Dasung Paperlike Pro(grammer) Review","date":"2018-01-12","contentHTML":"\u003cp\u003eI recently purchased a \u003ca href=\"http://www.dasung.com/english/\"\u003eDasung Paperlike Pro 13.3 E-ink monitor\u003c/a\u003e to use for coding, reading, and terminal work. I have many thoughts on the overall e-ink market and consumer experience. I will save them for another post. This post will be brief and focused on personal expectations with the Dasung. Additionally, there are \u003ca href=\"https://www.youtube.com/results?search_query=dasung+paperlike+pro\"\u003emany other, more thorough reviews\u003c/a\u003e online demonstrating the capabilities of the monitor.\u003c/p\u003e\n\u003cp\u003eAfter telling people I purchased this monitor the common reaction is:\u003c/p\u003e\n\u003cblockquote\u003e\u003cp\u003e\u0026#34;E-ink? Isn\u0026#39;t that slow!? How do you code on that?\u0026#34; - Tech Friend\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eThis is an understandable concern as most people\u0026#39;s personal experience with E-ink has been on smaller low powered devices like Kindles or other E-readers.  The smaller e-reader screens tend to have an extended \u0026#39;refresh\u0026#39; rate built in. This is an attempt to conserve battery power.\u003c/p\u003e\n\u003cp\u003eThe Dasung doesn\u0026#39;t have to make this compromise; it has a dedicated power source. The Dasung monitor performance runs at about 40 FPS on HDMI hookup. This thing can play videos.\u003c/p\u003e\n\u003ch2\u003eCoding in Emacs on a Dasung Paperlike Pro 13.3 E-ink monitor\u003c/h2\u003e\n\u003cp\u003eBelow is a video I sent to a few friends demonstrating the responsiveness and performance\u003c/p\u003e\n\u003cp\u003ee-ink emacs video:\u003c/p\u003e\n\u003ciframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/zp8-eUmAnhg\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen\u003e\u003c/iframe\u003e\u003ch2\u003eThe pros\u003c/h2\u003e\n\u003cul\u003e\u003cli\u003eThe overall physical design and form factor of the monitor is great.\u003cp\u003eThe monitor has a solid one-piece construction. As a bonus, it comes with a stand. HDMI hookup\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003eWorks excellent for Emacs.\u003cp\u003eCan be a dedicated Emacs monitor.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003eDasung support was fast, friendly and shipping was quick.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eDasung driver and software performance\u003c/h3\u003e\n\u003cp\u003eDasung packages software to help drive and configure the monitor on popular operating systems: Windows, OSX, and 64bit Ubuntu. I primarily used the monitor on an OSX system.\u003c/p\u003e\n\u003cp\u003eThe Monitor has three primary rendering modes: \u003cb\u003eFloyd\u003c/b\u003e, \u003cb\u003eA2\u003c/b\u003e, \u003cb\u003eA16\u003c/b\u003e. I find myself spending most of the time in the \u003cb\u003eA2\u003c/b\u003e mode. The different modes correspond to different algorithms that the monitor uses to convert the colored display pixel data into grey-scale e-ink data. The numbers in the \u003cb\u003eA2\u003c/b\u003e and \u003cb\u003eA16\u003c/b\u003e modes are the different shades of grey each pixel will render. The \u003cb\u003eA2\u003c/b\u003e mode is a hard binary contrast containing only 2 colors, black and white. I found this great for text editing and reading.\u003c/p\u003e\n\u003cp\u003eThe \u003cb\u003eA16\u003c/b\u003e mode maps color pixels into one of 16 shades of grey. This mode is useful for viewing operating system UI and Apps that don\u0026#39;t render well in a black and white mode.\u003c/p\u003e\n\u003cp\u003eThe \u003cb\u003eFloyd\u003c/b\u003e mode is apparently a proprietary custom Dasung algorithm that is based on \u003cdel\u003e[[\u003ca href=\"https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm][The\"\u003ehttps://en.wikipedia.org/wiki/Floyd‚ÄìWarshall_algorithm][The\u003c/a\u003e Floyd-Warshall algorithim]]\u003c/del\u003e \u003ca href=\"https://en.wikipedia.org/wiki/Floyd%E2%80%93Steinberg_dithering\"\u003eFloyd‚ÄìSteinberg dithering algorithim\u003c/a\u003e. Overall the \u003cb\u003eFloyd\u003c/b\u003e mode renders multi shade grey output at a high frame rate. You can watch videos in this mode. Wikipedia states that:\u003c/p\u003e\n\u003cblockquote\u003e\u003cp\u003e\u003cdel\u003ethe Floyd‚ÄìWarshall algorithm is an algorithm for finding shortest paths in a weighted graph with positive or negative edge weights (but with no negative cycles).\u003c/del\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eI am not sure how Dasung applies that graph pathfinding algorithm to the pixel data of the display output. I haven\u0026#39;t thought too hard about this yet, I would appreciate any ideas left in the comments below.\u003c/p\u003e\n\u003ch2\u003eThe cons\u003c/h2\u003e\n\u003ch3\u003eReflective screen glare\u003c/h3\u003e\n\u003cp\u003eAs you can see in the video above, there is an obvious glare on the screen. The video was captured in a moderately lit room. The monitor actually ships with a plastic anti-glare protective screen cover to help alleviate this. This is a huge problem and defeats the purpose of the monitor. Dasung\u0026#39;s advertising is aggressive on claims of \u0026#34;Relax Your Eyes\u0026#34;, \u0026#34;Ultimate Eye Protection\u0026#34; \u0026#34;No blue light, No flashing, No backlight, No glossy\u0026#34;.\u003c/p\u003e\n\u003cp\u003eUnfortunately, putting a reflective pane of glass over the e-ink display is a bad move.\u003c/p\u003e\n\u003ch3\u003eDasung driver and software issues\u003c/h3\u003e\n\u003cp\u003eI listed the Dasung software as a Pro, unfortunately, it also has some frustrating issues. Again my experience was on MacOSX; your experience may be different.\u003c/p\u003e\n\u003cp\u003eThe monitor has a \u0026#34;change mode\u0026#34; hardware button that lets you cycle through these differnt modes. There is a software driver UI that also changes these modes. It seems the software can get out of sync with the hardware. You can set a resolution and contrast and mode in the software, Then press a hardware button and that resolution will be lost.\u003c/p\u003e\n\u003cp\u003eAt times the monitor goes in to some kind of \u0026#34;sleep mode\u0026#34; even while plugged into an active computer. The screen goes black and unresponsive. By messing with a combination of the hardware buttons on the screen you can wake it up.\u003c/p\u003e\n\u003cp\u003eUnfortunatly, the driver UI defaults to Chinese, I was able to navigate it blindly and change to English. It should detect the operating system\u0026#39;s language setting.\u003c/p\u003e\n\u003ch1\u003eSummary\u003c/h1\u003e\n\u003cp\u003eOverall I think the Dasung is a pretty awesome piece of equipment. I am majorly dissapointed about the reflective glass screen. I am happy with my purchase and hope funds go to help further improve the company and product line. If you spend a lot of time editing text or reading with tired eyes I would recommend one. You can use it as a dedicated text editor or terminal screen to great success.\u003c/p\u003e\n\u003ch1\u003eUpdates\u003c/h1\u003e\n\u003ch2\u003e2018/02/02:\u003c/h2\u003e\n[[\u003ca href=\"https://kevzettler.com/2018/01/12/dasung-paperlike-pro-review#comment-3754833721\"\u003ehttps://kevzettler.com/2018/01/12/dasung-paperlike-pro-review#comment-3754833721\u003c/a\u003e][Jon Hendry]] in the comments pointed out that the Dasung PaperlikePro Floyd mode is probably the \u003ca href=\"https://en.wikipedia.org/wiki/Floyd%E2%80%93Steinberg_dithering\"\u003eFloyd‚ÄìSteinberg dithering algorithim\u003c/a\u003e and not the Floyd-Warshall I pointed out above. This makes much more sense I have updated the content above","excerpt":"I recently purchased a Dasung Paperlike Pro 13.3 E-ink monitor to use for coding, reading, and terminal work. I have many thoughts on the overall e-ink market and consumer experience. I will save them for another post. This post will be brief and focused on personal expectations with the Dasung. Additionally, there are many other, more thorough reviews online demonstrating the capabilities of the ...","slug":"2018/01/12/dasung-paperlike-pro-review","meta":{"keywords":"e-ink hardware workflow","image":"img/kev.jpeg","description":"I recently purchased a Dasung Paperlike Pro 13.3 E-ink monitor to use for coding, reading, and terminal work. I have many thoughts on the overall e-ink market and consumer experience. I will save them for another post. This post will be brief and focused on personal expectations with the Dasung. Add","title":"Dasung Paperlike Pro(grammer) Review - Kev Zettler"}},{"title":"Rapid Local Development with Vagrant, Docker and Node.js","date":"2015-06-07","contentHTML":"\u003ch3 id=\"tldr\"\u003eTLDR\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eUsing a cascade of Vagrant shared directories, Docker volumes and cleverly placed symlinks, you can rig Vagrant and Docker to instantly reflect your local application code updates.\u003c/li\u003e\n\u003cli\u003eDocker volume -\u0026gt; Vagrant shared directory -\u0026gt; Host machine code.\u003c/li\u003e\n\u003cli\u003eEnable NPM link style development in Docker container.\u003c/li\u003e\n\u003cli\u003eDosen\u0026#39;t cover \u003ccode\u003egulp\u003c/code\u003e \u003ccode\u003ewebpack\u003c/code\u003e asset generation but you can figure it out.\u003c/li\u003e\n\u003cli\u003eThere might be a better way to do this or improvements to make. Leave it in the comments.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"the-problem\"\u003eThe Problem\u003c/h2\u003e\n\u003cp\u003eI wanted to use \u003ca href=\"https://github.com/js-platform/node-webrtc\"\u003eisomorphic WebRTC\u003c/a\u003e with the awesome \u003ca href=\"https://github.com/feross/simple-peer\"\u003eSimplePeer\u003c/a\u003e in a recent Node.js project. However the server WebRTC has a bunch of system level dependencies that are a pain to install. Luckily they provide a \u003ca href=\"https://github.com/js-platform/node-webrtc/blob/develop/Dockerfile\"\u003eDockerfile\u003c/a\u003e which does it all for you. I didn\u0026#39;t end up using their exact Dockerfile but copy pasted the majority of it to my project to use as a \u003ccode\u003eBase web\u003c/code\u003e Dockerfile.\u003c/p\u003e\n\u003cp\u003eI also wanted to do development on a custom Node module. Usually on your local machine you would do \u003ccode\u003enpm link\u003c/code\u003e which creates a symlink to your module\u0026#39;s code directory and you can rapidly iterate there. However, working with Vagrant and Docker makes this more complicated.\u003c/p\u003e\n\u003cp\u003eI wanted all this to work without having to rebuild Docker images, rerun docker containers, or reprovision Vagrant.\u003c/p\u003e\n\u003ch2 id=\"the-base-web-image\"\u003eThe Base Web Image\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-docker\"\u003e# baseweb Dockerfile\nFROM ubuntu:14.04\n\nENV DEBIAN_FRONTEND noninteractive\nRUN echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections\nRUN echo debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections\n\nRUN apt-get update \u0026amp;\u0026amp; apt-get install -y software-properties-common\nRUN add-apt-repository ppa:webupd8team/java \u0026amp;\u0026amp; add-apt-repository ppa:chris-lea/node.js \u0026amp;\u0026amp; apt-get update\n\nRUN apt-get install -y git subversion g++ python libnss3-dev libasound2-dev libpulse-dev \\\nlibjpeg62-dev libxv-dev libgtk2.0-dev libexpat1-dev libxss-dev libudev-dev libdrm-dev libgconf2-dev \\\nlibgcrypt11-dev libpci-dev libxtst-dev libgnome-keyring-dev libssl-dev nodejs oracle-java6-installer oracle-java6-set-default\n\nENV JAVA_HOME /usr/lib/jvm/java-6-oracle/\nENV PATH $PATH:/usr/lib/jvm/java-6-oracle/jre/bin/\n\n\nRUN npm install -g forever\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWith the \u003ccode\u003eBaseWeb\u003c/code\u003e Dockerfile inplace I then have my Nodejs application. It\u0026#39;s structured as follows.\u003c/p\u003e\n\u003ch2 id=\"the-web-application-code\"\u003eThe Web Application Code\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e/Projects/demo/web\n‚îú‚îÄ‚îÄ Dockerfile\n‚îú‚îÄ‚îÄ index.js\n‚îú‚îÄ‚îÄ node_modules -\u0026gt; /dist/node_modules/\n‚îî‚îÄ‚îÄ package.json\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTake note here that my \u003ccode\u003enode_modules\u003c/code\u003e is actually a symlink to \u003ccode\u003e/dist/node_modules/\u003c/code\u003e this is committed to my repo. This may seem odd but it\u0026#39;s key to letting us rapidly develop on a custom module. It enables a \u003ccode\u003enpm link\u003c/code\u003e style work flow.\u003c/p\u003e\n\u003ch3 id=\"the-vagrant-setup\"\u003eThe Vagrant Setup\u003c/h3\u003e\n\u003cp\u003eAssume we have a Vagrantfile outside of our web project like so:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e/Projects/demo/\n‚îú‚îÄ‚îÄ Vagrantfile\n‚îî‚îÄ‚îÄ web\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis will automatically mount the web code as a shared directory inside the Vagrant machine at \u003ccode\u003e/vagrant/web\u003c/code\u003e. At this point we can \u003ccode\u003evagrant up\u003c/code\u003e and edit the application code on the host machine as usual and Vagrant will pickup the changes. This dosen\u0026#39;t help us yet because the code is dependent on the ismorphic WebRTC dependences. We need Vagrant to run the Docker containers.\u003c/p\u003e\n\u003cp\u003eBefore we get to the \u003ccode\u003eVagrantfile\u003c/code\u003e let\u0026#39;s look at the Web Applications\u0026#39; Dockerfile.\u003c/p\u003e\n\u003ch2 id=\"the-web-application-dockerfile\"\u003eThe Web Application Dockerfile\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-dockerfile\"\u003e# web DockerFile\nFROM base_web\nCOPY package.json /dist/package.json\nRUN mkdir /dist/node_modules \u0026amp;\u0026amp; cd /dist \u0026amp;\u0026amp; npm install\nADD . /srv/www\nRUN ln -s /dist/node_modules /srv/www/node_modules\nWORKDIR /srv/www\nEXPOSE 5000\nCMD [\u0026quot;forever\u0026quot;, \u0026quot;index.js\u0026quot;]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"points-of-interest\"\u003ePoints Of Interest\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eThe key to this whole thing here is the \u003ccode\u003enode_modules\u003c/code\u003e setup. We don\u0026#39;t do the \u003ccode\u003enpm install\u003c/code\u003e in the application code directory. We create a \u003ccode\u003e/dist/\u003c/code\u003e directory and copy \u003ccode\u003epackage.json\u003c/code\u003e there. We then \u003ccode\u003enpm install\u003c/code\u003e in \u003ccode\u003e/dist\u003c/code\u003e and get \u003ccode\u003e/dist/node_modules\u003c/code\u003e. This is really the seceret sauce. In production you don‚Äôt rebuild your modules each time you re-build your container. If your \u003ccode\u003epackage.json\u003c/code\u003e file changes then your modules will be rebuilt. I got this from  \u003ca href=\"http://bitjudo.com/blog/2014/03/13/building-efficient-dockerfiles-node-dot-js/\"\u003eBuilding Efficient Dockerfiles\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003eRUN ln -s /dist/node_modules /srv/www/node_modules\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e This creates a symlink for \u003ccode\u003enode_modues\u003c/code\u003e from our application code at \u003ccode\u003e/srv/www\u003c/code\u003e. to our \u003ccode\u003e/dist\u003c/code\u003e. This also overrides the symlink that is committed in the web repo. You might be thinking, \u0026quot;well what was the point of that then?\u0026quot;. I promise we\u0026#39;ll get to that soon. It\u0026#39;s key to the \u003ccode\u003enpm link\u003c/code\u003e style.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"the-vagrant-file\"\u003eThe Vagrant File\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003eVagrant.configure(2) do |config|\n  config.vm.box = \u0026quot;Ubuntu 14.04 with Docker enabled\u0026quot;\n  config.vm.box_url = \u0026quot;https://github.com/jose-lpa/packer-ubuntu_14.04/releases/download/v2.0/ubuntu-14.04.box\u0026quot;\n\n  config.vm.provision \u0026quot;docker\u0026quot; do |d|\n    d.build_image \u0026quot;/vagrant/Dockerfiles/base_web\u0026quot;, args: \u0026#39;-t \u0026quot;base_web\u0026quot;\u0026#39;\n    d.build_image \u0026quot;/vagrant/web\u0026quot;, args: \u0026#39;-t \u0026quot;web\u0026quot;\u0026#39;\n\n    d.run \u0026quot;web\u0026quot;,\n          cmd: \u0026quot;forever -w bin/server.js\u0026quot;,\n          args: \u0026quot;-v \u0026#39;/vagrant/web:/srv/www\u0026#39;\\\n                 -e NODE_ENV=development\\\n                 -p 5000:5000\u0026quot;\n  end\n\n  config.vm.network \u0026quot;forwarded_port\u0026quot;, guest: 5000, host: 5000\nend\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"points-of-interest-1\"\u003ePoints of interest\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003eWe use a \u0026#39;Docker enabled\u0026#39; image for our Docker box.\u003c/li\u003e\n\u003cli\u003eWe use Vagrant\u0026#39;s built-in Docker provisioner.\u003c/li\u003e\n\u003cli\u003eWe then run our container with some new arguments.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLet\u0026#39;s look at the run command more in-depth.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e    d.run \u0026quot;web\u0026quot;,\n          cmd: \u0026quot;forever -w index.js\u0026quot;,\n          args: \u0026quot;-v \u0026#39;/vagrant/web:/srv/www\u0026#39;\\\n                 -e NODE_ENV=development\\\n                 -p 5000:5000\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe\u0026#39;re overriding the Dockerfiles\u0026#39; \u003ccode\u003eCMD [\u0026quot;forever\u0026quot;, \u0026quot;index.js\u0026quot;]\u003c/code\u003e with \u003ccode\u003eforever -w index.js\u003c/code\u003e The \u003ccode\u003e-w\u003c/code\u003e flag restarts our server on code updates, which is what we want in a development environment.\u003c/p\u003e\n\u003ch3 id=\"bringing-it-all-together\"\u003eBringing It All Together\u003c/h3\u003e\n\u003cp\u003eThe Most important part of the \u003ccode\u003edocker run\u003c/code\u003e options is the \u003ccode\u003e-v\u003c/code\u003e flag, which is for Docker Volumes. We are telling our container to mount \u003ccode\u003e/srv/www\u003c/code\u003e as a volume that points to \u003ccode\u003e/vagrant/web/\u003c/code\u003e. If you review our Vagrant setup from earlier you can see that \u003ccode\u003e/srv/www\u003c/code\u003e is actualy a shared directory to our application code directory \u003ccode\u003e/web\u003c/code\u003e on the host machine!\u003c/p\u003e\n\u003cp\u003eA quick diagram of this shared filesystem cascade looks like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eDocker `/srv/www` -\u0026gt;\nVagrant `/vagrant/web -\u0026gt;\nHost `/web`/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAt this point you\u0026#39;re set up to rapidly develop on your application code and have updates reflected in your Docker container.\u003c/p\u003e\n\u003cp\u003eThe next challenge I faced was figuring out how to handle a local NPM module dependency that I wanted to iterate on in the same rapid manner.\u003c/p\u003e\n\u003ch2 id=\"npm-link-development-in-a-docker-container\"\u003eNPM Link Development In A Docker Container\u003c/h2\u003e\n\u003cp\u003eSo in this scenario. Lets assume that \u003ccode\u003eweb\u003c/code\u003e has an entry in \u003ccode\u003epackage.json\u003c/code\u003e like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e  \u0026quot;dependencies\u0026quot;: {\n   \u0026quot;customModule\u0026quot;: \u0026quot;git://github.com/kevzettler/customModule\u0026quot;,\n   }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003ecustomModule\u003c/code\u003e is a NPM module that we maintain and develop. This package.json setup works fine for production because we just install from the repo and forget about it. In development we want to rapidly make changes to \u003ccode\u003ecustomModule\u003c/code\u003eand not have to rebuild everything. Normally when developing on local machine, we would \u003ccode\u003ecd\u003c/code\u003e into \u003ccode\u003eweb\u003c/code\u003e and do \u003ccode\u003enpm link customModule\u003c/code\u003e which would build a symlink to our \u003ccode\u003ecustomModule\u003c/code\u003e code that would give us a rapid development setup.\u003c/p\u003e\n\u003cp\u003eWhen we add Vagrant and Docker to the dev environment, this completly breaks NPM Link.\u003c/p\u003e\n\u003cp\u003eHere\u0026#39;s an updated directory diagram of our project with the new \u003ccode\u003ecustomModule\u003c/code\u003e code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e/Projects/demo/\n‚îú‚îÄ‚îÄ Vagrantfile\n‚îú‚îÄ‚îÄ web\n‚îî‚îÄ‚îÄ customModule\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSo similliar to the web code, Vagrant will mount our customModule code at \u003ccode\u003e/vagrant/customModule\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eWe can then update our VagrantFile to add a new Docker Volume:\n\u003ccode\u003e-v \u0026#39;/vagrant/engine:/dist/node_modules/engine\u0026#39;\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e    d.run \u0026quot;web\u0026quot;,\n          cmd: \u0026quot;forever -w index.js\u0026quot;,\n          args: \u0026quot;-v \u0026#39;/vagrant/web:/srv/www\u0026#39;\\\n                 -v \u0026#39;/vagrant/customModule:/dist/node_modules/customModule\u0026#39;\\\n                 -e NODE_ENV=development\\\n                 -p 5000:5000\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"whats-all-this-symlink-business-then\"\u003eWhat\u0026#39;s All This Symlink Business Then?\u003c/h3\u003e\n\u003cp\u003eSo we have this symlink in 2 places.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eThe \u003ccode\u003eRUN\u003c/code\u003e symlink in Web Dockerfile\n  \u003ccode\u003eRUN ln -s /dist/node_modules /srv/www/node_modules\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eIn \u0026#39;Filesystem\u0026#39; symlink\n  \u003ccode\u003enode_modules -\u0026gt; /dist/node_modules/\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eDocker does not support symlinks when using the \u003ccode\u003eADD\u003c/code\u003e command in a DockerFile.\nIt will drop them from the \u003ccode\u003eADD\u003c/code\u003e filesystem. That\u0026#39;s why we need the \u003ccode\u003eRUN\u003c/code\u003e symlink in the dockerfile.\u003c/p\u003e\n\u003cp\u003eWhen we want to do development work, we run the container with the \u003ccode\u003e-v\u003c/code\u003e flag to mount our local code. The volume doesn\u0026#39;t get attached until after our container has already been created. At that time, the \u003ccode\u003eRUN\u003c/code\u003e symlink exists; however, the \u003ccode\u003e-v\u003c/code\u003e option overrides everything in the container\u0026#39;s \u003ccode\u003e/srv/www/\u003c/code\u003e, wiping out the \u003ccode\u003eRUN\u003c/code\u003e symlink.\u003c/p\u003e\n\u003cp\u003eBut wait! We have a \u0026#39;Filesystem\u0026#39; symlink in our shared code. The volume respects this symlink and it routes internally to the container\u0026#39;s filesystem. You don\u0026#39;t necessarily have to commit the symlink to your repo like I was dong. You just need it around when you build the Docker image. I committed it because I kept forgetting. Try this out and let me know if you have a better solution to it.\u003c/p\u003e\n","excerpt":"TLDR\n\nUsing a cascade of Vagrant shared directories, Docker volumes and cleverly placed symlinks, you can rig Vagrant and Docker to instantly reflect your local application code updates.\nDocker volume -\u003e Vagrant shared directory -\u003e Host machine code.\nEnable NPM link style development in Docker container.\nDosen't cover gulp","slug":"2015/06/07/rapid_local_development_vagrant_docker_node","meta":{"title":"Rapid Local Development with Vagrant, Docker and Node.js - Kev Zettler","keywords":["JavaScript","Conventions","Docker","Vagrant","Node.js"],"image":"img/kev.jpeg","description":"TLDR\n\nUsing a cascade of Vagrant shared directories, Docker volumes and cleverly placed symlinks, you can rig Vagrant and Docker to instantly reflect your local application code updates.\nDocker volume -\u0026gt; Vagrant shared directory -\u0026gt; Host machine code.\nEnable NPM link style development in Docker"}},{"title":"How To Route Docker.io Containers To Public IPV6 on Linode","date":"2014-06-25","contentHTML":"\u003cul\u003e\n\u003cli\u003eIf you want to us ipv6 with docker.io on linode make sure you have the following \u003ccode\u003esysctl\u003c/code\u003e set\u003cul\u003e\n\u003cli\u003e\u003ccode\u003enet.ipv6.conf.all.accept_ra = 2\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003enet.ipv6.conf.all.forwarding = 1\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eThen you can pretty much follow this post \u003ca href=\"http://zargony.com/2013/10/13/ipv6-in-docker-containers#sthash.xNFG3NCx.dpuf\"\u003ehttp://zargony.com/2013/10/13/ipv6-in-docker-containers\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eIf you want auto configured addresses you can install and configure \u003ccode\u003eradvd\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","excerpt":"\nIf you want to us ipv6 with docker.io on linode make sure you have the following sysctl set\nnet.ipv6.conf.all.accept_ra = 2\nnet.ipv6.conf.all.forwarding = 1\n\n\nThen you can pretty much follow this post http://zargony.com/2013/10/1...","slug":"2014/06/25/docker_ipv6_linode","meta":{"title":"How To Route Docker.io Containers To Public IPV6 on Linode - Kev Zettler","keywords":["JavaScript","Conventions","Docker.io","IPV6","Linode"],"image":"img/kev.jpeg","description":"\nIf you want to us ipv6 with docker.io on linode make sure you have the following sysctl set\nnet.ipv6.conf.all.accept_ra = 2\nnet.ipv6.conf.all.forwarding = 1\n\n\nThen you can pretty much follow this post http://zargony.com/2013/10/13/ipv6-in-docker-containers\nIf you want auto configured addresses you "}},{"title":"How To Manage Javascript Callbacks","date":"2012-09-30","contentHTML":"\u003ch3 id=\"tldr\"\u003etldr;\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eAbstract anonymous functions into named functions to avoid nesting callbacks.\u003c/li\u003e\n\u003cli\u003eAvoid using local variables of a shared scope in nested anonymous functions.\u003c/li\u003e\n\u003cli\u003eAbstract large JavaScript object declaration into smaller generator functions.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"or-how-to-avoid-callback-hell\"\u003eOr \u0026#39;How To Avoid Callback Hell\u0026#39;.\u003c/h2\u003e\n\u003cp\u003eI have been meaning to write this post for some time now. Basically since Node.js came onto the spotlight and people started complaining about JavaScript code maintainability and readability due to\nnested callbacks and other asynchronous patterns. This is also highly relevant now with the rise of backbone.js and the discussion for best practices there. Writing JavaScript like Lisp is a bit of an generalization. More specifically, I mean write JavaScript like it‚Äôs a functional language, which it is.\nBy this, I mean write it as small composable functions. I\u0026#39;ll show a few patterns I use that can help keep your JavaScript more manageable. Let‚Äôs get into some code examples.\u003c/p\u003e\n\u003ch2 id=\"a-standard-jquery-ajax-button-event\"\u003eA Standard jQuery Ajax Button Event.\u003c/h2\u003e\n\u003cp\u003eThis is fairly common pattern. A button click event triggers an Ajax request. The Ajax request has callbacks for success and error. The success callback triggers another procedure of rendering or possibly another Ajax chain.\nThe error function does some animation to the button and then does some Ajax to log the error.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e    $(\u0026#39;button\u0026#39;).click(function(event){\n      $.ajax({\n        url: \u0026quot;http://coolsite.com\u0026quot;\n        ,data: {\n          \u0026quot;lots\u0026quot; : \u0026quot;of\u0026quot;\n          ,\u0026quot;json\u0026quot; : \u0026quot;data\u0026quot;\n        }\n        ,success: function(data){\n          $(\u0026#39;button\u0026#39;).fadeOut(function(){\n            alert(\u0026#39;Ajax success!\u0026#39;);\n          });\n        },\n        error: function(data){\n          $(\u0026#39;button\u0026#39;).animate({top: \u0026#39;20px\u0026#39;}, function(){\n            $.get(\u0026quot;http://coolsite.com/logger\u0026quot;, function(){\n               console.log(\u0026#39;error happened\u0026#39;);\n            });\n        });\n        }\n      });\n    });\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEverything is stuffed into the click handler. All of the Ajax response functions are nested in the scope of the anonymous click handler function.\nWhile this is not necessarily a bad practice, it can promote the growth of unmanageable code.\u003c/p\u003e\n\u003cp\u003eA familiar scenario, someone might declare a local variable at the top of the click handler declaration and then reference it throughout the nested anonymous functions. This will essentially cause the \u003ccode\u003esuccess\u003c/code\u003e and \u003ccode\u003eerror\u003c/code\u003e callbacks to be dependent on their nested position.\u003c/p\u003e\n\u003ch2 id=\"how-can-we-make-this-better\"\u003eHow Can We Make This Better?\u003c/h2\u003e\n\u003cp\u003eWell lets break it up into smaller pieces. More manageable pieces.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e    function ajaxSuccessHandler(data){\n      $(\u0026#39;button\u0026#39;).fadeOut(function(){\n        alert(\u0026#39;Ajax success!\u0026#39;);\n      });\n    }\n\n    function ajaxErrorHandler(data){\n      $(\u0026#39;button\u0026#39;).animate({top: data.top}, function(){\n        $.get(\u0026quot;http://coolsite.com/logger\u0026quot;, function(){\n          console.log(\u0026#39;error happened\u0026#39;);\n        });\n      });\n    }\n\n    function buttonClickHandler(event){\n      $.ajax({\n        url: \u0026quot;http://coolsite.com\u0026quot;\n        ,data: {\n          \u0026quot;lots\u0026quot;: \u0026quot;of\u0026quot;\n          ,\u0026quot;json\u0026quot;: \u0026quot;data\u0026quot;\n        }\n        ,success: ajaxSuccessHandler\n        ,error: ajaxErrorHandler\n      });\n    }\n\n    $(\u0026#39;button\u0026#39;).click(buttonClickHandler);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"its-okay-to-use-named-functions\"\u003eIts Okay To Use Named Functions.\u003c/h2\u003e\n\u003cp\u003eWe\u0026#39;ve made a few small abstractions. We\u0026#39;ve moved the anonymous functions that handle the button click, Ajax success, and Ajax error into separate named functions.\nSimply giving the anonymous functions names and moving them out of the nested pattern has significantly improved this code.\u003c/p\u003e\n\u003cp\u003eVisually the code is now easier to parse. The callbacks are now standalone units that can be tested in isolation.\nWe could easily write a unit test for \u003ccode\u003eajaxSuccessHandler\u003c/code\u003e that called it with a dummy data object and ensured it was functioning correctly. This is significantly harder when nesting anonymous functions.\u003c/p\u003e\n\u003cp\u003eStack traces now become more useful as well. Trying to hunt down a bug in a stack trace that is 3 layers deep in anonymous functions is not helpful. If the functions are named its much easier to track down issues.\u003c/p\u003e\n\u003cp\u003eAnother added benefit of this pattern is that it now makes it easy to annotate our functions to utilize the features of \u003ca href=\"https://developers.google.com/closure/compiler/docs/js-for-compiler\"\u003eGoogle\u0026#39;s Closure Compiler\u003c/a\u003e.\nThis opens up the opportunity to add strict type checking to our JavaScript.\u003c/p\u003e\n\u003cp\u003eExpanding on our re-factor, we could have abstracted the anonymous callbacks passed to the \u003ccode\u003efadeOut\u003c/code\u003e and \u003ccode\u003eanimate\u003c/code\u003e invocations. Also the callback passed to our \u003ccode\u003e$.Get\u003c/code\u003e call is ripe for naming as well.\nFor this small example we\u0026#39;ll skip editing them as its a bit overkill. In larger code bases you\u0026#39;ll see those functions swell.\u003c/p\u003e\n\u003ch2 id=\"generate-large-objects-from-named-functions\"\u003eGenerate Large Objects From Named Functions.\u003c/h2\u003e\n\u003cp\u003eThis next example is a bit exaggerated but gets the concept across.\nOften times you may have some JavaScript objects defined inline as a parameter or local variable.\nIn our example, we have the \u003ccode\u003e$.ajax\u003c/code\u003e method which takes an Object as its parameter and a child object as the \u003ccode\u003edata:\u003c/code\u003e value.\nIn our next example code, we abstract these small objects in to some simple named functions that simply return the objects.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e    function ajaxSuccessHandler(data){\n      $(\u0026#39;button\u0026#39;).fadeOut(function(){\n        alert(\u0026#39;Ajax success!\u0026#39;);\n      });\n    }\n\n    function ajaxErrorHandler(data){\n      $(\u0026#39;button\u0026#39;).animate({top: data.top}, function(){\n        $.get(\u0026quot;http://coolsite.com/logger\u0026quot;, function(){\n          console.log(\u0026#39;error happened\u0026#39;);\n        });\n      });\n    }\n\n    function buttonClickAjaxData(){\n      return {\n          \u0026quot;lots\u0026quot;: \u0026quot;of\u0026quot;\n          ,\u0026quot;json\u0026quot;: \u0026quot;data\u0026quot;\n        };\n    }\n\n    function buttonClickAjaxObj(){\n      return {\n        url: \u0026quot;http://coolsite.com\u0026quot;\n        ,data: buttonClickAjaxData()\n        ,success: ajaxSuccessHandler\n        ,error: ajaxErrorHandler\n      };\n    }\n\n    function buttonClickHandler(event){\n      $.ajax(buttonClickAjaxObj());\n    }\n\n    $(\u0026#39;button\u0026#39;).click(buttonClickHandler);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis abstraction lets us contain the objects in to smaller functions that can be unit tested and managed much easier.\nAgain this is an exaggerated example and a bit overkill in this case, but definitely useful for larger objects.\u003c/p\u003e\n\u003ch2 id=\"just-for-fun\"\u003eJust For Fun.\u003c/h2\u003e\n\u003cp\u003eFor fun let‚Äôs look at the above example in some bad pseudo Lisp.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eDisclaimer\u003c/strong\u003e I am by no means a certified Lisper.\nThe extent of my experience with Lisp is a few toy projects in Scheme and Common Lisp. The following code is meant to be more of visual aid than a functional program.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"our-nested-ajax-procedure\"\u003eOur Nested Ajax Procedure.\u003c/h3\u003e\n\u003cp\u003eI\u0026#39;ve simplified \u003ccode\u003esuccess\u003c/code\u003e and \u003ccode\u003eerror\u003c/code\u003e callbacks for this example to make them simple calls to \u003ccode\u003ealert\u003c/code\u003e\nYou can see this is visually similar to the way JavaScript nests anonymous functions.\nThis example makes use of Lisps anonymous functions with \u003ccode\u003elambda\u003c/code\u003e. \u003ccode\u003elambda\u003c/code\u003e is equivalent to JavaScripts \u003ccode\u003e(function(){})\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cl\"\u003e    (on-click (lambda (event)\n      (ajax pseudo-data\n        (lambda (data) ; success\n          (alert data))\n        (lambda (data) ; error\n          (alert data)))))\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"after-our-re-factor\"\u003eAfter Our Re-factor.\u003c/h2\u003e\n\u003cp\u003eBelow you can see that a similar clarity arises to our Lisp code when we abstract the anonymous functions in to named ones.\nWe now have self-contained small units of code that are much more manageable.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cl\"\u003e    (defun success-callback (data) (alert data))\n\n    (defun error-callback (data) (jax-log data))\n\n    (defun click-handler (event)\n      (ajax pseudo-data success-callback error-callback))\n\n    (on-click click-handler)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"in-conclusion\"\u003eIn Conclusion\u003c/h2\u003e\n\u003cp\u003eIf you\u0026#39;re coming from a traditionally synchronous, procedural programming background. These patterns may not be a silver bullet for you.\nThis doesn\u0026#39;t eliminate the need for callbacks. Hopefully it will help you manage them better. The code, in parts, is still written and executed in a non-sequential order.\u003c/p\u003e\n","excerpt":"tldr;\n\nAbstract anonymous functions into named functions to avoid nesting callbacks.\nAvoid using local variables of a shared scope in nested anonymous functions.\nAbstract large JavaScript object declaration into smaller generator functions.\n\nOr 'How To Avoid Callback Hell'.\nI have been mea...","slug":"2012/09/30/how_to_manage_javascript_callbacks","meta":{"title":"How To Manage Javascript Callbacks - Kev Zettler","keywords":["JavaScript","Conventions"],"image":"img/kev.jpeg","description":"tldr;\n\nAbstract anonymous functions into named functions to avoid nesting callbacks.\nAvoid using local variables of a shared scope in nested anonymous functions.\nAbstract large JavaScript object declaration into smaller generator functions.\n\nOr \u0026#39;How To Avoid Callback Hell\u0026#39;.\nI have been meani"}},{"title":"Disable Any Element With jQuery","date":"2012-07-05","contentHTML":"\u003cp\u003eIn HTML the \u003ca href=\"http://www.w3schools.com/tags/att_input_disabled.asp\"\u003edisabled attribute\u003c/a\u003e alows you to mark an input element as \u0026#39;disabled\u0026#39; Which will trigger \nthe browser to render the input in a \u0026#39;greyed out\u0026#39; style:\u003c/p\u003e\n\u003ctable style=\"padding:20px;\"\u003e\n  \u003ctr\u003e\n    \u003ctd\u003e\n      \u003cform\u003e\n        \u003cp\u003eEnabled elements\u003c/p\u003e\n        \u003cbutton \u003eClick\u003c/button\u003e\u003cbr /\u003e\u003cbr /\u003e\n        \u003cinput type=\"text\"  value=\"text\" /\u003e\u003cbr /\u003e\n        \u003cselect \u003e\u003cbr /\u003e\n          \u003coption\u003eSelect\u003c/option\u003e\n        \u003c/select\u003e\n      \u003c/form\u003e\n    \u003c/td\u003e\n    \u003ctd\u003e\n      \u003cform style=\"padding-left:40px;\"\u003e\n        \u003cp\u003eDisabled elements\u003c/p\u003e\n        \u003cbutton disabled=\"disabled\"\u003eClick\u003c/button\u003e\u003cbr /\u003e\u003cbr /\u003e\n        \u003cinput type=\"text\" disabled=\"disabled\" value=\"text\" /\u003e\u003cbr /\u003e\n        \u003cselect disabled=\"disabled\"\u003e\u003cbr /\u003e\n          \u003coption\u003eSelect\u003c/option\u003e\n        \u003c/select\u003e\n      \u003c/form\u003e\n    \u003c/td\u003e\n  \u003c/tr\u003e\n\u003c/table\u003e\n\n\n\u003cp\u003eThis is helpful for limiting user interaction when an app is in an unknown state. Like waiting for an Ajax response. However this attribute is only available on form input elements.\nThis is unfortunate if you are heavily using your own custom UI components. Say you have a bunch of buttons throughout your UI that are actually \u003ccode\u003e\u0026lt;a\u0026gt;\u003c/code\u003e elements.\u003c/p\u003e\n\u003cp\u003eI\u0026#39;ve ran into this problem on several projects and developed a pattern which grew into a plugin I now use on most projects. You can get the plugin here \u003ca href=\"https://github.com/kevzettler/jquery.disable/downloads\"\u003edownload jquery.disable\u003c/a\u003e\nor check it out and contribute to \u003ca href=\"https://github.com/kevzettler/jquery.disable\"\u003ejquery.disable on github\u003c/a\u003e \u003c/p\u003e\n","excerpt":"In HTML the disabled attribute alows you to mark an input element as 'disabled' Which will trigger \nthe browser to render the input in a 'greyed out' style:\n\n  \n    \n      \n        Enabled elements\n        Click\n        ","slug":"2012/07/05/Disable_any_element_with_jquery","meta":{"title":"Disable Any Element With jQuery - Kev Zettler","keywords":null,"image":"img/kev.jpeg","description":"In HTML the disabled attribute alows you to mark an input element as \u0026#39;disabled\u0026#39; Which will trigger \nthe browser to render the input in a \u0026#39;greyed out\u0026#39; style:\n\n  \n    \n      \n        Enabled elements\n        Click\n        \n        \n          Select\n        \n      \n    \n    \n      \n    "}},{"title":"jQuery Autobox Plugin","date":"2010-10-30","contentHTML":"\u003cp\u003eI have worked on several site designs that expect form inputs to render with a default value. Upon focus of the input the default text should clear and allow user input to stick. Sometimes the design calls for this to happen with a password field as well.\u003c/p\u003e\n\u003cp\u003ePassword fields are a special condition as the text is rendered as dots. You cannot dynamically change the \u0026#39;type\u0026#39; attribute of a password input field. This is a browser security feature. To obtain this behavior with password fields you need to dynamically create a text field on top of the password and hide it on focus. This plugin handles this.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e \u0026quot;You cannot dynamically change the \u0026#39;type\u0026#39; attribute of a password input field.\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHandle any font colors or styling with css.\u003c/p\u003e\n\u003cp\u003eDownloads\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/kevzettler/jquery.autobox/tarball/master\"\u003edownload - tar.gz\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/kevzettler/jquery.autobox/zipball/master\"\u003edownload - .zip\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eInstallation\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;script src=\u0026quot;http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\u0026quot; type=\u0026quot;text/javascript\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;  \n\u0026lt;script src=\u0026quot;jquery.autobox.js\u0026quot; type=\u0026quot;text/javascript\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;  \n\u0026lt;script type=\u0026quot;text/javascript\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;  \n\u0026lt;form\u0026gt; \u0026lt;input value=\u0026quot;default text\u0026quot; type=\u0026quot;text\u0026quot; /\u0026gt; \u0026lt;input value=\u0026quot;default pass\u0026quot; type=\u0026quot;pass\u0026quot; /\u0026gt; \u0026lt;/form\u0026gt;  \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDemo\nSee it live \u003ca href=\"http://www.callmekev.com/demo\"\u003ehere\u003c/a\u003e\u003c/p\u003e\n","excerpt":"I have worked on several site designs that expect form inputs to render with a default value. Upon focus of the input the default text should clear and allow user input to stick. Sometimes the design calls for this to happen with a password field as well.\nPassword fields are a special condition as the text is rendered as dots. You cannot dynamically change the 'type' attribute of...","slug":"2010/10/30/jquery-autobox-plugin","meta":{"title":"jQuery Autobox Plugin - Kev Zettler","keywords":null,"image":"img/kev.jpeg","description":"I have worked on several site designs that expect form inputs to render with a default value. Upon focus of the input the default text should clear and allow user input to stick. Sometimes the design calls for this to happen with a password field as well.\nPassword fields are a special condition as t"}},{"title":"IE Button Bug","date":"2010-09-05","contentHTML":"\u003cp\u003eI recently encountered an annoying bug in multiple versions of IE regarding forms and button elements. I am writing about it to remind myself in the future and to hopefully save time for someone else. The bug spawned from my decision to use \u003ccode\u003e\u0026lt;button\u0026gt;\u003c/code\u003e elements over \u003ccode\u003e\u0026lt;input type=\u0026quot;submit\u0026quot;\u0026gt;\u003c/code\u003e elements as the submit buttons for my forms. I chose button elements because they are generally more consistent in cross browser rendering and also allow for more semantic textual content than text in the input element\u0026#39;s type attribute.\nThe behavior of modern browsers matched my own expected behavior. That is:\u003c/p\u003e\n\u003cp\u003eif a from element contains a button element, and no input \u003ccode\u003etype=\u0026#39;submit\u0026#39;\u003c/code\u003e, that button should trigger the submit event of the form\u003c/p\u003e\n\u003cp\u003eHowever, IE does not.\u003c/p\u003e\n\u003cp\u003e\u0026quot;IE will not fire a form submit event on a \u003ccode\u003e\u0026lt;button\u0026gt;\u0026lt;/button\u0026gt;\u003c/code\u003e click by default.\u0026quot;\u003c/p\u003e\n\u003cp\u003eI found this out after testing in IE and discovering that none of the forms on a site would submit. I first assumed that it was some bug with an inline validation plugin that I had used. The submission bug remained after disabling the plugin.\u003c/p\u003e\n\u003cp\u003eSolutions to this bug were: \u003c/p\u003e\n\u003cp\u003eReplace all the button elements with input \u003ccode\u003etype=\u0026#39;submit\u0026#39;\u003c/code\u003e and apply the button styles. \nOr attach an explicit click event to the button elements that would fire the parent form elements submit event.\u003c/p\u003e\n","excerpt":"I recently encountered an annoying bug in multiple versions of IE regarding forms and button elements. I am writing about it to remind myself in the future and to hopefully save time for someone else. The bug spawned from my decision to use \u003cbutton\u003e elements over \u003cinput type=\"submit\"\u003e elements as the submit buttons for my forms. I chose button ele...","slug":"2010/09/05/IE-button-bug","meta":{"title":"IE Button Bug - Kev Zettler","keywords":null,"image":"img/kev.jpeg","description":"I recently encountered an annoying bug in multiple versions of IE regarding forms and button elements. I am writing about it to remind myself in the future and to hopefully save time for someone else. The bug spawned from my decision to use \u0026lt;button\u0026gt; elements over \u0026lt;input type=\u0026quot;submit\u0026qu"}}]},"__N_SSG":true},"page":"/","query":{},"buildId":"vUyWxDfyKr2O4J8LUYO2n","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>